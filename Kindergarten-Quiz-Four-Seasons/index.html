<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <!-- <link rel="stylesheet" media="print" href="css/print.css"> -->
        
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
        <script src="js/vendor/jquery-3.1.1.min.js"></script>
        <script src="js/vendor/jquery.printPage.js"></script>
        <!-- <script>$(document).ready(function(){$(".printButton").printpage();});</script> -->
    </head>
    <body>
        <div id='quizTitle'></div>
        <div id='questionTitle'></div>
        <audio id='audioObj' display='none'></audio>
        <div id='answerBox'><ul id='answerList'></ul></div>
        <div id='confirmationCelebration'><img src='img/check-mark-2-512.gif' opacity='0'></img></div>
        <script>
            var numRows = 2;
            
            window.onload = function() {
                // set globals, list of questions, answers, sources
                var t = document.getElementById('quizTitle');
                document.globalVars = setGlobals();
                
                //load questions
                loadQuestions(document.globalVars);
                
                // set title
                t.innerHTML = '';
                if (document.globalVars.quizTitle) {
                    t.textContent = document.globalVars.quizTitle;
                }

                doFirstQuestion(numRows);
            };
            
            document.addEventListener('printButtonAdded', function (event) {
                $(".printButton").printPage({
                    afterCallback: function() {
                        var ev = new Event('finishedQuiz');
                        document.dispatchEvent(ev);
                    }
                });
            }, false);
            document.addEventListener('finishedQuiz',function (event) {
                // TODO
                // wait and celebrate completion
                
                // restart
                doFirstQuestion(numRows);
            }, false);
        </script>
        
        <script src="js/plugins.js"></script>
        <script src="js/main.js"></script>
    </body>
</html>
